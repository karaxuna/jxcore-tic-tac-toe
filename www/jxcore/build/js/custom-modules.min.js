!function(e){function n(){t.value("enums",enums),setTimeout(function(){try{angular.bootstrap(document,[t.name])}catch(e){alert(e)}})}var t=angular.module(e.name,["ui.router","ngResource","ngSanitize","ngAnimate"].concat(e.dependencies)).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(n,t,a){n.state(e.name,{url:"",template:'<div ui-view class="lang-ka"></div>',"abstract":!0}),a.html5Mode(!1).hashPrefix("!")}]).run(["$rootScope","$state","$location","enums",function(e,n,t,a){e.enums=a}]);!function a(){"undefined"==typeof jxcore?setTimeout(a,5):"none"===jxcore||"none"===cordova?n():jxcore.isReady(function(){jxcore("alert").register(alert),jxcore("app.js").loadMainFile(function(e,t){t?alert(t):n()})})}(),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"E",template:'<div class="cd-burger" ng-class="expanded ? \'expanded\' : null" ng-transclude></div>',transclude:!0,replace:!0,scope:!0,controller:["$scope","$attrs",function(e,n){var t=this;t.expanded=function(n){return"undefined"==typeof n?e.expanded:void(e.expanded=n)},t.toggle=function(){t.expanded(!e.expanded)},e.$on("$stateChangeSuccess",function(){t.expanded(!1)})}]}}]).directive(n.name+"Menu",[function(){return{restrict:"E",template:'<div class="cd-burger-menu" ng-transclude></div>',transclude:!0,replace:!0}}]).directive(n.name+"Content",[function(){return{restrict:"E",template:'<div class="cd-burger-content" ng-transclude></div>',transclude:!0,replace:!0}}]).directive(n.name+"Header",[function(){return{restrict:"E",templateUrl:n.path+"/header.html",transclude:!0,replace:!0,require:"^"+n.name,scope:!0,link:function(e,n,t,a){e.expanded=a.expanded,e.toggle=a.toggle}}}]).directive(n.name+"Body",[function(){return{restrict:"E",template:'<div class="cd-burger-body" ng-transclude></div>',transclude:!0,replace:!0}}])}({name:"cdBurger",path:"./modules/a/directives/cdBurger"}),function(n){angular.module(e.name).directive(n.name,["dateFilter",function(e){return{restrict:"A",require:"ngModel",link:function(n,t,a,r){r.$formatters.unshift(function(n){return e(n,"yyyy-MM-dd")}),r.$parsers.unshift(function(e){return new Date(e)})}}}])}({name:"cdDateInput",path:"./modules/a/directives/cdDateInput"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"A",require:"ngModel",link:function(e,t,a,r){function i(){var t=r.$viewValue,i=e.$eval(a[n.name]);r.$setValidity("equals",t===i)}e.$watch(a.ngModel,i),e.$watch(a[n.name],i)}}}])}({name:"cdEquals",path:"./modules/a/directives/cdEquals"}),function(n){angular.module(e.name).directive(n.name,["fileUpload",function(e){return{restrict:"A",require:"ngModel",link:function(t,a,r,i){a.on("click",function(){var a=angular.element('<input type="file"/>'),o=t.$eval(r[n.name]);a.on("change",function(n){var t=n.target.files;e.upload(t,o).then(function(e){i.$setViewValue(e)},function(e){alert(e.response)})}),a.get(0).click()})}}}])}({name:"cdFileUpload",path:"./modules/a/directives/cdFileUpload"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"E",replace:!0,templateUrl:n.path+"/index.html",scope:{img:"@"},link:function(e,n,t,a){e.$on("loading:progress",function(){n.show()}),e.$on("loading:finish",function(){n.hide()})}}}])}({name:"cdLoadingIndicator",path:"./modules/a/directives/cdLoadingIndicator"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"A",link:function(e,t,a){t.keypress(function(t){13==t.which&&e.$apply(a[n.name])})}}}])}({name:"cdOnPressEnter",path:"./modules/a/directives/cdOnPressEnter"}),function(n){angular.module(e.name).directive(n.name,["$compile","$controller","$http","$templateCache","$q","$state","$resolve",function(e,t,a,r,i,o,c){return{restrict:"A",link:function(u,l,s){function m(n,a){tmplScope=u.$new(),tmplCtrl=t(a.controller,angular.extend({$scope:tmplScope},n.locals)),l.html(n.template),l.children().data("$ngControllerController",tmplCtrl),e(l.contents())(tmplScope)}u.$watch(s[n.name],function(e){var n;resolveFns=e.resolve||{};for(var t=o.$current;t;)angular.extend(resolveFns,t.resolve),t=t.parent;n=e.templateUrl?a.get(e.templateUrl,{cache:r}).then(function(e){return e.data}):i.when(e.template),c.resolve(resolveFns).then(function(e){return n.then(function(n){return{locals:e,template:n}})}).then(function(n){m(n,e)})})}}}])}({name:"cdPartial",path:"./modules/a/directives/cdPartial"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"A",require:"ngModel",priority:101,link:function(e,t,a,r){var i=a[n.name];r.$formatters.push(function(e){return e&&"string"==typeof e&&0===e.indexOf(i)?e.substring(i.length,e.length):void 0}),r.$parsers.push(function(e){return e?i+e:e})}}}])}({name:"cdPrefix",path:"./modules/a/directives/cdPrefix"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"A",link:function(e,t,a){var r;t.click(function(e){r&&e.preventDefault()}),e.$watch(a[n.name],function(e){r=e,r?t.addClass("inactive"):t.removeClass("inactive")})}}}])}({name:"cdPreventDefault",path:"./modules/a/directives/cdPreventDefault"}),function(n){angular.module(e.name).directive(n.name,["$state",function(e){return{restrict:"A",link:function(e,t,a){t.click(function(e){e.preventDefault(),window.location.href=a[n.name]||t.attr("href")})}}}])}({name:"cdRawHref",path:"./modules/a/directives/cdRawHref"}),function(n){angular.module(e.name).directive(n.name,["$timeout","scrollSrvc",function(e,t){return{restrict:"A",link:function(e,a,r){e.$watch(r[n.name],function(e){e&&t.scrollDown(a,0)})}}}])}({name:"cdScrollDownDefault",path:"./modules/a/directives/cdScrollDownDefault"}),function(n){angular.module(e.name).directive(n.name,["scrollSrvc",function(e){return{restrict:"A",link:function(t,a,r){t.$eval(r[n.name]).forEach(function(n){t.$on(n,function(){e.scrollDown(a)})})}}}])}({name:"cdScrollDownOn",path:"./modules/a/directives/cdScrollDownOn"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"A",link:function(e,n,t){n.click(function(e){e.stopPropagation()})}}}])}({name:"cdStopPropagation",path:"./modules/a/directives/cdStopPropagation"}),function(n){angular.module(e.name).directive(n.name,[function(){return{restrict:"E",replace:!0,template:'<canvas width="400" height="400" id="canvas"></canvas>',scope:{dimensions:"=",winningScore:"=",turn:"=",me:"=",onInit:"="},link:function(e,n,t){var a=new xox.Game({context:n.get(0).getContext("2d"),width:e.dimensions,height:e.dimensions,winningScore:e.winningScore,turn:e.turn,me:e.me}),r=a.scene.context.canvas,i=r.parentNode.getBoundingClientRect(),o=i.width>400?400:i.width;r.width=o,r.height=o,a.scene.redraw(),e.onInit(a)}}}])}({name:"cdXox",path:"./modules/a/directives/cdXox"}),function(n){angular.module(e.name).directive(n.name,["$state",function(e){function t(e){var n=e.parent().inheritedData("$uiView");return n&&n.state&&n.state.name?n.state:void 0}return{restrict:"A",link:function(a,r,i){var o=i[n.name+"Class"]||"active";a.$on("$stateChangeSuccess",function(){var a=t(r)||e.$current,c=e.includes(i[n.name],null,{relative:a});c?i.$addClass(o):i.$removeClass(o)})}}}])}({name:"uiSrefContains",path:"./modules/a/directives/uiSrefContains"}),function(n){angular.module(e.name).directive(n.name,["$state",function(e){return{restrict:"A",link:function(t,a,r){t.$on("$stateChangeSuccess",function(){var a=angular.extend({},e.params,t.$eval(r[n.name])),i=e.href(e.current,a);r.$set("href",i)})}}}])}({name:"uiSrefParams",path:"./modules/a/directives/uiSrefParams"}),function(n){angular.module(e.name).provider(n.name,[function(){var e=this;e.defaultOptions={name:"file",action:"/upload",typeValidator:"image.*"},e.$get=["$q",function(n){return{upload:function(t,a){for(var r,a=angular.extend({},e.defaultOptions,a),i=new FormData,o=n.defer(),c=0;c<t.length;c++){if(r=t[c],!r.type.match(a.typeValidator))return o.reject("Wrong file type: "+r.type);i.append(a.name,r,r.name)}var u=new XMLHttpRequest;return u.onload=function(){200===u.status?o.resolve(u.response):o.reject(u)},u.open("POST",a.action,!0),u.send(i),o.promise}}}]}])}({name:"fileUpload",path:"./modules/a/factories/fileUpload"}),function(n){angular.module(e.name).factory(n.name,["$q","$injector","$location","$rootScope","notify",function(e,n,t,a,r){var i=0;return{request:function(e){return 1===++i&&a.$broadcast("loading:progress"),e||$q.when(e)},response:function(e){return 0===--i&&a.$broadcast("loading:finish"),e||$q.when(e)},responseError:function(t){n.get("$state");switch(t.status){case 404:r.info(t.data||"რესურსი არ მოიძებნა");break;case 500:r.info(t.data||"სერვერის შეცდომა")}return 0===--i&&a.$broadcast("loading:finish"),e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push(n.name)}])}({name:"httpInterceptor",path:"./modules/a/factories/httpInterceptor"}),function(e){t.factory(e.name,["$q","$rootScope",function(e,n){var t={};return{call:function(n){var t=e.defer(),a=Array.prototype.slice.call(arguments,1),r=jxcore(n);return r.call.apply(r,a.concat(function(e,n){n?t.reject(n):t.resolve(e)})),t.promise},on:function(e,a){t[e]?t[e].push(a):(t[e]=a,jxcore(e).register(function(){var a=arguments;t[e].forEach(function(e){e.apply(a)}),n.$digest()}))}}}])}({name:"jxcoreSrvc",path:"./modules/a/factories/jxcoreSrvc"}),function(n){angular.module(e.name).factory(n.name,[function(){return{info:function(e){alert("info: "+e)},error:function(e){alert("error: "+e)}}}])}({name:"notify",path:"./modules/a/factories/notify"}),function(n){angular.module(e.name).factory(n.name,["$state","$urlMatcherFactory","$location",function(e,n,t){function a(e){try{return decodeURIComponent(e)}catch(n){}}function r(e){var n,t,r={};return angular.forEach((e||"").split("&"),function(e){if(e&&(n=e.replace(/\+/g,"%20").split("="),t=a(n[0]),angular.isDefined(t))){var i=angular.isDefined(n[1])?a(n[1]):!0;hasOwnProperty.call(r,t)?angular.isArray(r[t])?r[t].push(i):r[t]=[r[t],i]:r[t]=i}}),r}function i(e){var n=e.split("?");return{path:n[0],search:n[1]?r(n[1]):{}}}return{resolveFromUrl:function(t){for(var a,r=e.get(),o=0;a=r[o];o++)if(!a["abstract"]){for(var c,u=a.name.split("."),l=n.compile(""),s=0;c=u[s];s++){var m=e.get(u.slice(0,s+1).join("."));m.url&&(l=l.concat(m.url))}var d=i(t),f=l.exec(d.path,d.search);if(f)return{params:f,state:a}}},getStateContext:function(e){var n=e.parent().inheritedData("$uiView");return n&&n.state&&n.state.name?n.state:void 0}}}])}({name:"stateHelper",path:"./modules/a/factories/stateHelper"}),function(n){angular.module(e.name).filter(n.name,[function(){return function(e,n){return e.map(function(e){return e[n]})}}])}({name:"map",path:"./modules/a/filters/map"}),function(n){angular.module(e.name).filter(n.name,[function(){return function(e){return e.reduce(function(e,n){return e.concat(n)},[])}}])}({name:"reduce",path:"./modules/a/filters/reduce"})}({name:"a",path:"./modules/a",dependencies:["a.main"]}),function(e){angular.module(e.name,e.dependencies).config(["$stateProvider",function(n){n.state(e.name,{url:"",templateUrl:e.path+"/views/layout.html",controller:e.name+".c.main",resolve:{localIP:["jxcoreSrvc",function(e){return e.call("getLocalIP",!0)}]}})}]),function(n){angular.module(e.name).controller(e.name+".c."+n.name,["$scope","$state","localIP","jxcoreSrvc",function(e,n,t,a){e.localIP=t,a.on("start",function(){n.go("a.main.multi")})}])}({name:"main",path:"./modules/a.main/controllers/main"})}({name:"a.main",path:"./modules/a.main",dependencies:["a.main.config","a.main.find","a.main.multi"]}),function(e){angular.module(e.name,e.dependencies).config(["$stateProvider",function(n){n.state(e.name,{url:"/config",templateUrl:e.path+"/views/layout.html",controller:e.name+".c.config",resolve:{gameConfig:["jxcoreSrvc",function(e){return e.call("getGameConfig")}]}})}]),function(n){angular.module(e.name).controller(e.name+".c."+n.name,["$scope","jxcoreSrvc","gameConfig",function(e,n,t){e.gameConfig=t,e.setGameConfig=function(){n.call("setGameConfig",e.gameConfig).then(function(){alert("Game settings saved")})}}])}({name:"config",path:"./modules/a.main.config/controllers/config"})}({name:"a.main.config",path:"./modules/a.main.config",dependencies:[]}),function(e){angular.module(e.name,e.dependencies).config(["$stateProvider",function(n){n.state(e.name,{url:"/find",templateUrl:e.path+"/views/layout.html",controller:e.name+".c.find"})}]),function(n){angular.module(e.name).controller(e.name+".c."+n.name,["$scope","$state","jxcoreSrvc",function(e,n,t){e.model={ip:null},e.connectToServer=function(){t.call("connectToServer",e.model.ip).then(function(){n.go("^.multi")})}}])}({name:"find",path:"./modules/a.main.find/controllers/find"})}({name:"a.main.find",path:"./modules/a.main.find",dependencies:[]}),function(e){angular.module(e.name,e.dependencies).config(["$stateProvider",function(n){n.state(e.name,{url:"/multi",templateUrl:e.path+"/views/layout.html",controller:e.name+".c.multi",resolve:{game:["jxcoreSrvc",function(e){return e.call("getGame")}]}})}]),function(n){angular.module(e.name).controller(e.name+".c."+n.name,["$scope","game","jxcoreSrvc",function(e,n,t){e.game=n,e.init=function(e){e.on("over",function(){t.call("over",{winner:this.winner})}),e.on("filled",function(n){n.type===e.me&&t.call("fill",n)}),t.on("filled",function(n){e.fill(n.i,n.j)})}}])}({name:"multi",path:"./modules/a.main.multi/controllers/multi"})}({name:"a.main.multi",path:"./modules/a.main.multi",dependencies:[]});